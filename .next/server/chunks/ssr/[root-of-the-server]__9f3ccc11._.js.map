{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/lib/actions/file.actions.ts"],"sourcesContent":["\"use server\";\nimport { createAdminClient, createSessionClient } from \"../appwrite\";\nimport { InputFile } from \"node-appwrite/file\";\nimport { appwriteConfig } from \"../appwrite/config\";\nimport { ID, Models, Query } from \"node-appwrite\";\nimport { constructFileUrl, getFileType, parseStringify } from \"../utils\";\nimport { revalidatePath } from \"next/cache\";\nimport { getCurrentUser } from \"./user.actions\";\n\nconst handleError = (error: unknown, message: string) => {\n    console.log(error, message);\n    throw error;\n}\n\nexport const uploadFile = async ({ file, ownerId, accountId, path }: UploadFileProps) => {\n    const { storage, databases } = await createAdminClient()\n\n    try {\n        // Step 1: Upload file to Appwrite Storage\n        const inputFile = InputFile.fromBuffer(file, file.name)\n        const bucketFile = await storage.createFile(appwriteConfig.bucketId, ID.unique(), inputFile)\n\n        // ✅ Step 2: Get file metadata (for mimeType)\n        const metadata = await storage.getFile(appwriteConfig.bucketId, bucketFile.$id)\n\n        // Step 3: Create your file document\n        const fileDocument = {\n            type: getFileType(bucketFile.name).type,\n            name: bucketFile.name,\n            url: constructFileUrl(bucketFile.$id),\n            extension: getFileType(bucketFile.name).extension,\n            size: bucketFile.sizeOriginal,\n            owner: ownerId,\n            accountId,\n            users: [],\n            bucketFileId: bucketFile.$id,\n            mimeType: metadata.mimeType, // ✅ Save it!\n        }\n\n        // Step 4: Create document in DB\n        const newFile = await databases.createDocument(\n            appwriteConfig.databaseId,\n            appwriteConfig.fileCollectionId,\n            ID.unique(),\n            fileDocument\n        ).catch(async (error: unknown) => {\n            await storage.deleteFile(appwriteConfig.bucketId, bucketFile.$id)\n            handleError(error, \"Failed to create file document\")\n        })\n\n        revalidatePath(path)\n        return parseStringify(newFile)\n    } catch (error) {\n        handleError(error, \"Failed to upload file\")\n    }\n}\n\nconst createQueries = (currentUser: Models.Document, types: string[], searchText: string, sort: string, limit?: number) => {\n    const queries = [\n        Query.or([\n            Query.equal('owner', [currentUser.$id]),\n            Query.contains('users', [currentUser.email])\n        ])\n    ];\n\n    if (types.length > 0) queries.push(Query.equal('type', types));\n    if (searchText) queries.push(Query.contains('name', searchText));\n    if (limit) queries.push(Query.limit(limit));\n\n    if (sort) {\n        const [sortBy, orderBy] = sort.split('-');\n        queries.push(orderBy === 'asc' ? Query.orderAsc(sortBy) : Query.orderDesc(sortBy));\n    }\n\n    return queries;\n}\n\nexport const getFiles = async ({ types = [], searchText = '', sort = '$createdAt-desc', limit }: GetFilesProps) => {\n    const { databases } = await createAdminClient();\n\n    try {\n        const currentUser = await getCurrentUser();\n        if (!currentUser) {\n            throw new Error(\"User not found\");\n        }\n\n        const queries = createQueries(currentUser, types, searchText, sort, limit);\n        const files = await databases.listDocuments(\n            appwriteConfig.databaseId,\n            appwriteConfig.fileCollectionId,\n            queries,\n        );\n        return parseStringify(files);\n    } catch (error) {\n        handleError(error, \"Failed to get files\");\n    }\n}\n\nexport const renameFile = async ({ fileId, name, extension, path }: RenameFileProps) => {\n    const { databases } = await createAdminClient();\n    try {\n        const newName = `${name}.${extension}`;\n        const updatedFile = await databases.updateDocument(\n            appwriteConfig.databaseId,\n            appwriteConfig.fileCollectionId,\n            fileId,\n            {\n                name: newName,\n            }\n        );\n        revalidatePath(path);\n        return parseStringify(updatedFile);\n    } catch (error) {\n        handleError(error, \"Failed to rename the file\");\n    }\n}\n\nexport const updatedFileUsers = async ({ fileId, emails, path }: UpdateFileUsersProps) => {\n    const { databases } = await createAdminClient();\n    try {\n        const updatedFile = await databases.updateDocument(\n            appwriteConfig.databaseId,\n            appwriteConfig.fileCollectionId,\n            fileId,\n            {\n                users: emails\n            }\n        );\n        revalidatePath(path);\n        return parseStringify(updatedFile);\n    } catch (error) {\n        handleError(error, \"Failed to update the file users\");\n    }\n}\n\nexport const deleteFile = async ({ fileId, bucketFileId, path }: DeleteFileProps) => {\n    const { databases, storage } = await createAdminClient();\n    try {\n        const deletedFile = await databases.deleteDocument(\n            appwriteConfig.databaseId,\n            appwriteConfig.fileCollectionId,\n            fileId\n        );\n\n        if (deletedFile) {\n            await storage.deleteFile(appwriteConfig.bucketId, bucketFileId);\n        }\n\n        revalidatePath(path);\n        return parseStringify(deletedFile);\n    } catch (error) {\n        handleError(error, \"Failed to delete the file\");\n    }\n}\n\nexport async function getTotalSpaceUsed() {\n    try {\n        const { databases } = await createSessionClient();\n        const currentUser = await getCurrentUser();\n        if (!currentUser) throw new Error(\"User is not authenticated.\");\n\n        const files = await databases.listDocuments(\n            appwriteConfig.databaseId,\n            appwriteConfig.fileCollectionId,\n            [Query.equal(\"owner\", [currentUser.$id])],\n        );\n\n        const totalSpace = {\n            image: { size: 0, latestDate: \"\" },\n            document: { size: 0, latestDate: \"\" },\n            video: { size: 0, latestDate: \"\" },\n            audio: { size: 0, latestDate: \"\" },\n            other: { size: 0, latestDate: \"\" },\n            used: 0,\n            all: 2 * 1024 * 1024 * 1024 /* 2GB available bucket storage */,\n        };\n\n        files.documents.forEach((file) => {\n            const fileType = file.type as FileType;\n            totalSpace[fileType].size += file.size;\n            totalSpace.used += file.size;\n\n            if (\n                !totalSpace[fileType].latestDate ||\n                new Date(file.$updatedAt) > new Date(totalSpace[fileType].latestDate)\n            ) {\n                totalSpace[fileType].latestDate = file.$updatedAt;\n            }\n        });\n\n        return parseStringify(totalSpace);\n    } catch (error) {\n        handleError(error, \"Error calculating total space used:, \");\n    }\n}"],"names":[],"mappings":";;;;;;;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEA,MAAM,cAAc,CAAC,OAAgB;IACjC,QAAQ,GAAG,CAAC,OAAO;IACnB,MAAM;AACV;AAEO,MAAM,aAAa,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAmB;IAChF,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,MAAM,CAAA,GAAA,wHAAA,CAAA,oBAAiB,AAAD;IAErD,IAAI;QACA,0CAA0C;QAC1C,MAAM,YAAY,sJAAA,CAAA,YAAS,CAAC,UAAU,CAAC,MAAM,KAAK,IAAI;QACtD,MAAM,aAAa,MAAM,QAAQ,UAAU,CAAC,yHAAA,CAAA,iBAAc,CAAC,QAAQ,EAAE,+IAAA,CAAA,KAAE,CAAC,MAAM,IAAI;QAElF,6CAA6C;QAC7C,MAAM,WAAW,MAAM,QAAQ,OAAO,CAAC,yHAAA,CAAA,iBAAc,CAAC,QAAQ,EAAE,WAAW,GAAG;QAE9E,oCAAoC;QACpC,MAAM,eAAe;YACjB,MAAM,CAAA,GAAA,4GAAA,CAAA,cAAW,AAAD,EAAE,WAAW,IAAI,EAAE,IAAI;YACvC,MAAM,WAAW,IAAI;YACrB,KAAK,CAAA,GAAA,4GAAA,CAAA,mBAAgB,AAAD,EAAE,WAAW,GAAG;YACpC,WAAW,CAAA,GAAA,4GAAA,CAAA,cAAW,AAAD,EAAE,WAAW,IAAI,EAAE,SAAS;YACjD,MAAM,WAAW,YAAY;YAC7B,OAAO;YACP;YACA,OAAO,EAAE;YACT,cAAc,WAAW,GAAG;YAC5B,UAAU,SAAS,QAAQ;QAC/B;QAEA,gCAAgC;QAChC,MAAM,UAAU,MAAM,UAAU,cAAc,CAC1C,yHAAA,CAAA,iBAAc,CAAC,UAAU,EACzB,yHAAA,CAAA,iBAAc,CAAC,gBAAgB,EAC/B,+IAAA,CAAA,KAAE,CAAC,MAAM,IACT,cACF,KAAK,CAAC,OAAO;YACX,MAAM,QAAQ,UAAU,CAAC,yHAAA,CAAA,iBAAc,CAAC,QAAQ,EAAE,WAAW,GAAG;YAChE,YAAY,OAAO;QACvB;QAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO,CAAA,GAAA,4GAAA,CAAA,iBAAc,AAAD,EAAE;IAC1B,EAAE,OAAO,OAAO;QACZ,YAAY,OAAO;IACvB;AACJ;AAEA,MAAM,gBAAgB,CAAC,aAA8B,OAAiB,YAAoB,MAAc;IACpG,MAAM,UAAU;QACZ,kJAAA,CAAA,QAAK,CAAC,EAAE,CAAC;YACL,kJAAA,CAAA,QAAK,CAAC,KAAK,CAAC,SAAS;gBAAC,YAAY,GAAG;aAAC;YACtC,kJAAA,CAAA,QAAK,CAAC,QAAQ,CAAC,SAAS;gBAAC,YAAY,KAAK;aAAC;SAC9C;KACJ;IAED,IAAI,MAAM,MAAM,GAAG,GAAG,QAAQ,IAAI,CAAC,kJAAA,CAAA,QAAK,CAAC,KAAK,CAAC,QAAQ;IACvD,IAAI,YAAY,QAAQ,IAAI,CAAC,kJAAA,CAAA,QAAK,CAAC,QAAQ,CAAC,QAAQ;IACpD,IAAI,OAAO,QAAQ,IAAI,CAAC,kJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;IAEpC,IAAI,MAAM;QACN,MAAM,CAAC,QAAQ,QAAQ,GAAG,KAAK,KAAK,CAAC;QACrC,QAAQ,IAAI,CAAC,YAAY,QAAQ,kJAAA,CAAA,QAAK,CAAC,QAAQ,CAAC,UAAU,kJAAA,CAAA,QAAK,CAAC,SAAS,CAAC;IAC9E;IAEA,OAAO;AACX;AAEO,MAAM,WAAW,OAAO,EAAE,QAAQ,EAAE,EAAE,aAAa,EAAE,EAAE,OAAO,iBAAiB,EAAE,KAAK,EAAiB;IAC1G,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAA,GAAA,wHAAA,CAAA,oBAAiB,AAAD;IAE5C,IAAI;QACA,MAAM,cAAc,MAAM,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;QACvC,IAAI,CAAC,aAAa;YACd,MAAM,IAAI,MAAM;QACpB;QAEA,MAAM,UAAU,cAAc,aAAa,OAAO,YAAY,MAAM;QACpE,MAAM,QAAQ,MAAM,UAAU,aAAa,CACvC,yHAAA,CAAA,iBAAc,CAAC,UAAU,EACzB,yHAAA,CAAA,iBAAc,CAAC,gBAAgB,EAC/B;QAEJ,OAAO,CAAA,GAAA,4GAAA,CAAA,iBAAc,AAAD,EAAE;IAC1B,EAAE,OAAO,OAAO;QACZ,YAAY,OAAO;IACvB;AACJ;AAEO,MAAM,aAAa,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAmB;IAC/E,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAA,GAAA,wHAAA,CAAA,oBAAiB,AAAD;IAC5C,IAAI;QACA,MAAM,UAAU,GAAG,KAAK,CAAC,EAAE,WAAW;QACtC,MAAM,cAAc,MAAM,UAAU,cAAc,CAC9C,yHAAA,CAAA,iBAAc,CAAC,UAAU,EACzB,yHAAA,CAAA,iBAAc,CAAC,gBAAgB,EAC/B,QACA;YACI,MAAM;QACV;QAEJ,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO,CAAA,GAAA,4GAAA,CAAA,iBAAc,AAAD,EAAE;IAC1B,EAAE,OAAO,OAAO;QACZ,YAAY,OAAO;IACvB;AACJ;AAEO,MAAM,mBAAmB,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAwB;IACjF,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAA,GAAA,wHAAA,CAAA,oBAAiB,AAAD;IAC5C,IAAI;QACA,MAAM,cAAc,MAAM,UAAU,cAAc,CAC9C,yHAAA,CAAA,iBAAc,CAAC,UAAU,EACzB,yHAAA,CAAA,iBAAc,CAAC,gBAAgB,EAC/B,QACA;YACI,OAAO;QACX;QAEJ,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO,CAAA,GAAA,4GAAA,CAAA,iBAAc,AAAD,EAAE;IAC1B,EAAE,OAAO,OAAO;QACZ,YAAY,OAAO;IACvB;AACJ;AAEO,MAAM,aAAa,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAmB;IAC5E,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,MAAM,CAAA,GAAA,wHAAA,CAAA,oBAAiB,AAAD;IACrD,IAAI;QACA,MAAM,cAAc,MAAM,UAAU,cAAc,CAC9C,yHAAA,CAAA,iBAAc,CAAC,UAAU,EACzB,yHAAA,CAAA,iBAAc,CAAC,gBAAgB,EAC/B;QAGJ,IAAI,aAAa;YACb,MAAM,QAAQ,UAAU,CAAC,yHAAA,CAAA,iBAAc,CAAC,QAAQ,EAAE;QACtD;QAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO,CAAA,GAAA,4GAAA,CAAA,iBAAc,AAAD,EAAE;IAC1B,EAAE,OAAO,OAAO;QACZ,YAAY,OAAO;IACvB;AACJ;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAA,GAAA,wHAAA,CAAA,sBAAmB,AAAD;QAC9C,MAAM,cAAc,MAAM,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;QACvC,IAAI,CAAC,aAAa,MAAM,IAAI,MAAM;QAElC,MAAM,QAAQ,MAAM,UAAU,aAAa,CACvC,yHAAA,CAAA,iBAAc,CAAC,UAAU,EACzB,yHAAA,CAAA,iBAAc,CAAC,gBAAgB,EAC/B;YAAC,kJAAA,CAAA,QAAK,CAAC,KAAK,CAAC,SAAS;gBAAC,YAAY,GAAG;aAAC;SAAE;QAG7C,MAAM,aAAa;YACf,OAAO;gBAAE,MAAM;gBAAG,YAAY;YAAG;YACjC,UAAU;gBAAE,MAAM;gBAAG,YAAY;YAAG;YACpC,OAAO;gBAAE,MAAM;gBAAG,YAAY;YAAG;YACjC,OAAO;gBAAE,MAAM;gBAAG,YAAY;YAAG;YACjC,OAAO;gBAAE,MAAM;gBAAG,YAAY;YAAG;YACjC,MAAM;YACN,KAAK,IAAI,OAAO,OAAO,KAAK,gCAAgC;QAChE;QAEA,MAAM,SAAS,CAAC,OAAO,CAAC,CAAC;YACrB,MAAM,WAAW,KAAK,IAAI;YAC1B,UAAU,CAAC,SAAS,CAAC,IAAI,IAAI,KAAK,IAAI;YACtC,WAAW,IAAI,IAAI,KAAK,IAAI;YAE5B,IACI,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,IAChC,IAAI,KAAK,KAAK,UAAU,IAAI,IAAI,KAAK,UAAU,CAAC,SAAS,CAAC,UAAU,GACtE;gBACE,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,KAAK,UAAU;YACrD;QACJ;QAEA,OAAO,CAAA,GAAA,4GAAA,CAAA,iBAAc,AAAD,EAAE;IAC1B,EAAE,OAAO,OAAO;QACZ,YAAY,OAAO;IACvB;AACJ;;;IApLa;IA+DA;IAqBA;IAmBA;IAkBA;IAoBS;;AA7IT,+OAAA;AA+DA,+OAAA;AAqBA,+OAAA;AAmBA,+OAAA;AAkBA,+OAAA;AAoBS,+OAAA","debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/.next-internal/server/app/%28root%29/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '001e2dfa10d3d3b2ca9ad8ad1b2bbb0eb05530746a'} from 'ACTIONS_MODULE0'\nexport {createAccount as '7f4205ea856f09245687e1f7d1a5143084ee607872'} from 'ACTIONS_MODULE1'\nexport {getCurrentUser as '7f44fedf725f120aee40a56c2cc4c346d2ea9049a4'} from 'ACTIONS_MODULE1'\nexport {signOutUser as '7f804c3073ffaefc869e312bc0c4cc3144bbc2fdc6'} from 'ACTIONS_MODULE1'\nexport {verifySecret as '7f8415e7784befb7c1678eb0951049579188b44ce6'} from 'ACTIONS_MODULE1'\nexport {signInUser as '7f9f32803a3392a9d4ae9060aef7f5d99b3bac0f17'} from 'ACTIONS_MODULE1'\nexport {sendEmailOTP as '7fa0accb28402a967e922c077dc509347950f3f70b'} from 'ACTIONS_MODULE1'\nexport {createAdminClient as '7f3fcab81e05b108c6f2e065297f5251c297c4265e'} from 'ACTIONS_MODULE2'\nexport {createSessionClient as '7fc1ade0a1736c09e7f6e0007fdbbcca616b747f53'} from 'ACTIONS_MODULE2'\nexport {getFiles as '7f13042a3c947b067b422bdd05a9e5cf0f7c288eb6'} from 'ACTIONS_MODULE3'\nexport {uploadFile as '7f27fa36a148831f3f0229dc023315967776beaac5'} from 'ACTIONS_MODULE3'\nexport {getTotalSpaceUsed as '0060bc9eeac4b2fabc48a683debbc04c7bbbafd7b1'} from 'ACTIONS_MODULE3'\nexport {updatedFileUsers as '7f8ef21cd3a0232a770021246c3d05b4cd228c3115'} from 'ACTIONS_MODULE3'\nexport {deleteFile as '7fe4dccc9897f74b66268a2bad0e663fd2568ec7b4'} from 'ACTIONS_MODULE3'\nexport {renameFile as '7fec5f51c45b4368764e36dd6830e851df864e8e29'} from 'ACTIONS_MODULE3'\n"],"names":[],"mappings":";AAAA;AACA;AAMA;AAEA","debugId":null}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/components/ActionDropdown.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/ActionDropdown.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ActionDropdown.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA","debugId":null}},
    {"offset": {"line": 337, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/components/ActionDropdown.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/ActionDropdown.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ActionDropdown.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6Q,GAC1S,2CACA","debugId":null}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/components/Chart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Chart = registerClientReference(\n    function() { throw new Error(\"Attempted to call Chart() from the server but Chart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Chart.tsx <module evaluation>\",\n    \"Chart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,QAAQ,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACvC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,sDACA","debugId":null}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/components/Chart.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Chart = registerClientReference(\n    function() { throw new Error(\"Attempted to call Chart() from the server but Chart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/Chart.tsx\",\n    \"Chart\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,QAAQ,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACvC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,kCACA","debugId":null}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/components/ui/separator.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Separator = registerClientReference(\n    function() { throw new Error(\"Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/separator.tsx <module evaluation>\",\n    \"Separator\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,YAAY,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,6DACA","debugId":null}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/components/ui/separator.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Separator = registerClientReference(\n    function() { throw new Error(\"Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/separator.tsx\",\n    \"Separator\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,YAAY,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,yCACA","debugId":null}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/components/FormattedDateTime.tsx"],"sourcesContent":["import { cn, formatDateTime } from '@/lib/utils'\nimport React from 'react'\n\nconst FormattedDateTime = ({ date, className }: { date: string, className?: string }) => {\n    return (\n        <p className={cn('body-1 text-light-100 mt-1', className)}>\n            {formatDateTime(date)}\n        </p>\n    )\n}\n\nexport default FormattedDateTime"],"names":[],"mappings":";;;;AAAA;;;AAGA,MAAM,oBAAoB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAwC;IAChF,qBACI,8OAAC;QAAE,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;kBAC1C,CAAA,GAAA,4GAAA,CAAA,iBAAc,AAAD,EAAE;;;;;;AAG5B;uCAEe","debugId":null}},
    {"offset": {"line": 461, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/components/UploadingThumbnail.tsx"],"sourcesContent":["import { cn, getFileIcon } from \"@/lib/utils\";\nimport Image from \"next/image\"\n\ninterface Props {\n    type: string,\n    extension: string,\n    url?: string,\n    imageClassName?: string,\n    className?: string,\n}\n\nconst UploadingThumbnail = ({ type, extension, url = '', imageClassName, className }: Props) => {\n    const isImage = type === \"image\" && extension !== \"svg\";\n    const src = isImage ? url : getFileIcon(extension, type);\n\n    return (\n        <figure className={cn('uploadingThumbnail', className)}>\n            <Image\n                src={src}\n                alt=\"thumbnail\"\n                width={512}\n                height={512}\n                draggable={false}\n                className={cn('w-auto h-auto', imageClassName)}\n            />\n        </figure>\n    );\n};\n\nexport default UploadingThumbnail;"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAUA,MAAM,qBAAqB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,cAAc,EAAE,SAAS,EAAS;IACvF,MAAM,UAAU,SAAS,WAAW,cAAc;IAClD,MAAM,MAAM,UAAU,MAAM,CAAA,GAAA,4GAAA,CAAA,cAAW,AAAD,EAAE,WAAW;IAEnD,qBACI,8OAAC;QAAO,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,sBAAsB;kBACxC,cAAA,8OAAC,6HAAA,CAAA,UAAK;YACF,KAAK;YACL,KAAI;YACJ,OAAO;YACP,QAAQ;YACR,WAAW;YACX,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;;;;;;;;;;;AAI/C;uCAEe","debugId":null}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///Users/tushar/Documents/aspiredrive/app/%28root%29/page.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport Link from \"next/link\";\nimport { Models } from \"node-appwrite\";\n\nimport ActionDropdown from \"@/components/ActionDropdown\";\nimport { Chart } from \"@/components/Chart\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { getFiles, getTotalSpaceUsed } from \"@/lib/actions/file.actions\";\nimport { convertFileSize, getUsageSummary } from \"@/lib/utils\";\nimport FormattedDateTime from \"@/components/FormattedDateTime\";\nimport UploadingThumbnail from \"@/components/UploadingThumbnail\";\n\nconst Dashboard = async () => {\n  // Parallel requests\n  const [files, totalSpace] = await Promise.all([\n    getFiles({ types: [], limit: 10 }),\n    getTotalSpaceUsed(),\n  ]);\n\n  // Get usage summary\n  const usageSummary = getUsageSummary(totalSpace);\n\n  return (\n    <div className=\"dashboard-container\">\n      <section>\n        <Chart used={totalSpace.used} />\n\n        {/* Uploaded file type summaries */}\n        <ul className=\"dashboard-summary-list\">\n          {usageSummary.map((summary) => (\n            <Link\n              href={summary.url}\n              key={summary.title}\n              className=\"dashboard-summary-card\"\n            >\n              <div className=\"space-y-4\">\n                <div className=\"flex justify-between gap-3\">\n                  <Image\n                    src={summary.icon}\n                    width={100}\n                    height={100}\n                    alt=\"uploaded image\"\n                    className=\"summary-type-icon\"\n                  />\n                  <h4 className=\"summary-type-size\">\n                    {convertFileSize(summary.size) || 0}\n                  </h4>\n                </div>\n\n                <h5 className=\"summary-type-title\">{summary.title}</h5>\n                <Separator className=\"bg-white\" />\n                <FormattedDateTime\n                  date={summary.latestDate}\n                  className=\"text-center\"\n                />\n              </div>\n            </Link>\n          ))}\n        </ul>\n      </section>\n\n      {/* Recent files uploaded */}\n      <section className=\"dashboard-recent-files\">\n        <div className=\"recent-file-section\">\n          <h2 className=\"h3 xl:h2 text-light-100\">Recent files uploaded</h2>\n          {files.documents.length > 0 ? (\n            <ul className=\"mt-5 flex flex-col gap-5\">\n              {files.documents.map((file: Models.Document) => (\n                <Link\n                  href={file.url}\n                  target=\"_blank\"\n                  className=\"flex items-center gap-3\"\n                  key={file.$id}\n                >\n                  <UploadingThumbnail\n                    type={file.type}\n                    extension={file.extension}\n                    url={file.url}\n                  />\n\n                  <div className=\"recent-file-details\">\n                    <div className=\"flex flex-col gap-1\">\n                      <p className=\"recent-file-name\">{file.name}</p>\n                      <FormattedDateTime\n                        date={file.$createdAt}\n                        className=\"caption\"\n                      />\n                    </div>\n                    <ActionDropdown file={file} />\n                  </div>\n                </Link>\n              ))}\n            </ul>\n          ) : (\n            <p className=\"empty-list\">No files uploaded</p>\n          )}\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"names":[],"mappings":";;;;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAEA,MAAM,YAAY;IAChB,oBAAoB;IACpB,MAAM,CAAC,OAAO,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;QAC5C,CAAA,GAAA,iIAAA,CAAA,WAAQ,AAAD,EAAE;YAAE,OAAO,EAAE;YAAE,OAAO;QAAG;QAChC,CAAA,GAAA,iIAAA,CAAA,oBAAiB,AAAD;KACjB;IAED,oBAAoB;IACpB,MAAM,eAAe,CAAA,GAAA,4GAAA,CAAA,kBAAe,AAAD,EAAE;IAErC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCACC,8OAAC,oHAAA,CAAA,QAAK;wBAAC,MAAM,WAAW,IAAI;;;;;;kCAG5B,8OAAC;wBAAG,WAAU;kCACX,aAAa,GAAG,CAAC,CAAC,wBACjB,8OAAC,4JAAA,CAAA,UAAI;gCACH,MAAM,QAAQ,GAAG;gCAEjB,WAAU;0CAEV,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,6HAAA,CAAA,UAAK;oDACJ,KAAK,QAAQ,IAAI;oDACjB,OAAO;oDACP,QAAQ;oDACR,KAAI;oDACJ,WAAU;;;;;;8DAEZ,8OAAC;oDAAG,WAAU;8DACX,CAAA,GAAA,4GAAA,CAAA,kBAAe,AAAD,EAAE,QAAQ,IAAI,KAAK;;;;;;;;;;;;sDAItC,8OAAC;4CAAG,WAAU;sDAAsB,QAAQ,KAAK;;;;;;sDACjD,8OAAC,8HAAA,CAAA,YAAS;4CAAC,WAAU;;;;;;sDACrB,8OAAC,gIAAA,CAAA,UAAiB;4CAChB,MAAM,QAAQ,UAAU;4CACxB,WAAU;;;;;;;;;;;;+BArBT,QAAQ,KAAK;;;;;;;;;;;;;;;;0BA8B1B,8OAAC;gBAAQ,WAAU;0BACjB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA0B;;;;;;wBACvC,MAAM,SAAS,CAAC,MAAM,GAAG,kBACxB,8OAAC;4BAAG,WAAU;sCACX,MAAM,SAAS,CAAC,GAAG,CAAC,CAAC,qBACpB,8OAAC,4JAAA,CAAA,UAAI;oCACH,MAAM,KAAK,GAAG;oCACd,QAAO;oCACP,WAAU;;sDAGV,8OAAC,iIAAA,CAAA,UAAkB;4CACjB,MAAM,KAAK,IAAI;4CACf,WAAW,KAAK,SAAS;4CACzB,KAAK,KAAK,GAAG;;;;;;sDAGf,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAAoB,KAAK,IAAI;;;;;;sEAC1C,8OAAC,gIAAA,CAAA,UAAiB;4DAChB,MAAM,KAAK,UAAU;4DACrB,WAAU;;;;;;;;;;;;8DAGd,8OAAC,6HAAA,CAAA,UAAc;oDAAC,MAAM;;;;;;;;;;;;;mCAhBnB,KAAK,GAAG;;;;;;;;;iDAsBnB,8OAAC;4BAAE,WAAU;sCAAa;;;;;;;;;;;;;;;;;;;;;;;AAMtC;uCAEe","debugId":null}}]
}